/*! hapify-cli 2019-10-25 */

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const interface_1=require("../interface"),_1=require("./");function _p8(e){const s=(Math.random().toString(16)+"000000000").substr(2,8);return e?"-"+s.substr(0,4)+"-"+s.substr(4,4):s}class Model{constructor(e){e&&this.fromObject(e)}fromObject(e){return this.id=e.id,this.name=e.name,this.notes=e.notes||null,this.fields=e.fields.map(e=>new _1.Field(e)),this.accesses=e.accesses,this}toObject(){return{id:this.id,name:this.name,notes:this.notes||null,fields:this.fields.map(e=>e.toObject()),accesses:this.accesses}}static generateTempId(){return _p8()+_p8(!0)+_p8(!0)+_p8()}static defaultAccesses(){return{create:interface_1.Access.GUEST,read:interface_1.Access.GUEST,update:interface_1.Access.GUEST,remove:interface_1.Access.GUEST,search:interface_1.Access.GUEST,count:interface_1.Access.GUEST}}clone(e){const s=this.toObject();return e&&(s.id=Model.generateTempId()),new Model(s)}}exports.Model=Model;