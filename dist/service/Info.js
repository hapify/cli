/*! hapify-cli 2019-03-02 */

"use strict";var __decorate=this&&this.__decorate||function(e,t,n,i){var r,c=arguments.length,o=c<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(c<3?r(o):c>3?r(t,n,o):r(t,n))||o);return c>3&&o&&Object.defineProperty(t,n,o),o},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,c){function o(e){try{s(i.next(e))}catch(e){c(e)}}function a(e){try{s(i.throw(e))}catch(e){c(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,a)}s((i=i.apply(e,t||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});const typedi_1=require("typedi"),Channels_1=require("./Channels");let InfoService=class{constructor(e){this.channelsService=e}project(){return __awaiter(this,void 0,void 0,function*(){return(yield this.channelsService.channels())[0].project.toObject()})}fields(){return __awaiter(this,void 0,void 0,function*(){if(!this._fields){const e=(yield this.channelsService.channels()).find(e=>!!e.config.defaultFields);this._fields=e?e.config.defaultFields:[]}return this._fields})}};InfoService=__decorate([typedi_1.Service(),__metadata("design:paramtypes",[Channels_1.ChannelsService])],InfoService),exports.InfoService=InfoService;